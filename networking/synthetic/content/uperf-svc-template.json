{
    "kind": "Template",
    "apiVersion": "v1",
    "metadata": {
	"name": "uperf",
	"annotations": {
	    "description": "A template for creating resources for network testing",
	    "tags": "uperf,networking"
	}
    },
    "labels": {
	"template": "uperf"
    },
    "objects": [
	{
            "apiVersion": "v1",
            "kind": "Service",
            "metadata": {
		"labels": {
		    "name": "${ROLE}",
		    "test": "uperf"
		},
                "annotations": {
                    "description": "Exposes and load balances the application pods"
                },
                "name": "uperf-${ROLE}"
            },
            "spec": {
                "ports": [
                    {
                        "name": "ssh",
                        "port": 22
                    },
		    {
			"name": "uperf-10-tcp",
			"port": 20010,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-11-tcp",
			"port": 20011,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-12-tcp",
			"port": 20012,
			"protocol": "TCP"
		    },
		    		    {
			"name": "uperf-13-tcp",
			"port": 20013,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-14-tcp",
			"port": 20014,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-15-tcp",
			"port": 20015,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-16-tcp",
			"port": 20016,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-17-tcp",
			"port": 20017,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-18-tcp",
			"port": 20018,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-19-tcp",
			"port": 20019,
			"protocol": "TCP"
		    },		    		    
		    {
			"name": "uperf-20-tcp",
			"port": 20020,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-21-tcp",
			"port": 20021,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-22-tcp",
			"port": 20022,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-23-tcp",
			"port": 20023,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-24-tcp",
			"port": 20024,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-25-tcp",
			"port": 20025,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-26-tcp",
			"port": 20026,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-27-tcp",
			"port": 20027,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-28-tcp",
			"port": 20028,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-29-tcp",
			"port": 20029,
			"protocol": "TCP"
		    },		    		    
		    {
			"name": "uperf-30-tcp",
			"port": 20030,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-31-tcp",
			"port": 20031,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-32-tcp",
			"port": 20032,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-33-tcp",
			"port": 20033,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-34-tcp",
			"port": 20034,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-35-tcp",
			"port": 20035,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-36-tcp",
			"port": 20036,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-37-tcp",
			"port": 20037,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-38-tcp",
			"port": 20038,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-39-tcp",
			"port": 20039,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-40-tcp",
			"port": 20040,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-41-tcp",
			"port": 20041,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-42-tcp",
			"port": 20042,
			"protocol": "TCP"
		    },
		    		    {
			"name": "uperf-43-tcp",
			"port": 20043,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-44-tcp",
			"port": 20044,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-45-tcp",
			"port": 20045,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-46-tcp",
			"port": 20046,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-47-tcp",
			"port": 20047,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-48-tcp",
			"port": 20048,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-49-tcp",
			"port": 20049,
			"protocol": "TCP"
		    },		    		    
		    {
			"name": "uperf-50-tcp",
			"port": 20050,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-51-tcp",
			"port": 20051,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-52-tcp",
			"port": 20052,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-53-tcp",
			"port": 20053,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-54-tcp",
			"port": 20054,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-55-tcp",
			"port": 20055,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-56-tcp",
			"port": 20056,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-57-tcp",
			"port": 20057,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-58-tcp",
			"port": 20058,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-59-tcp",
			"port": 20059,
			"protocol": "TCP"
		    },		    		    
		    {
			"name": "uperf-60-tcp",
			"port": 20060,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-61-tcp",
			"port": 20061,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-62-tcp",
			"port": 20062,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-63-tcp",
			"port": 20063,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-64-tcp",
			"port": 20064,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-65-tcp",
			"port": 20065,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-66-tcp",
			"port": 20066,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-67-tcp",
			"port": 20067,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-68-tcp",
			"port": 20068,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-69-tcp",
			"port": 20069,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-70-tcp",
			"port": 20070,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-71-tcp",
			"port": 20071,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-72-tcp",
			"port": 20072,
			"protocol": "TCP"
		    },
		    		    {
			"name": "uperf-73-tcp",
			"port": 20073,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-74-tcp",
			"port": 20074,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-75-tcp",
			"port": 20075,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-76-tcp",
			"port": 20076,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-77-tcp",
			"port": 20077,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-78-tcp",
			"port": 20078,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-79-tcp",
			"port": 20079,
			"protocol": "TCP"
		    },		    		    
		    {
			"name": "uperf-80-tcp",
			"port": 20080,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-81-tcp",
			"port": 20081,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-82-tcp",
			"port": 20082,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-83-tcp",
			"port": 20083,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-84-tcp",
			"port": 20084,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-85-tcp",
			"port": 20085,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-86-tcp",
			"port": 20086,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-87-tcp",
			"port": 20087,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-88-tcp",
			"port": 20088,
			"protocol": "TCP"
		    },
		    {
			"name": "uperf-89-tcp",
			"port": 20089,
			"protocol": "TCP"
		    },		    		    
		    {
			"name": "uperf-10-udp",
			"port": 20010,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-11-udp",
			"port": 20011,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-12-udp",
			"port": 20012,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-13-udp",
			"port": 20013,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-14-udp",
			"port": 20014,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-15-udp",
			"port": 20015,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-16-udp",
			"port": 20016,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-17-udp",
			"port": 20017,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-18-udp",
			"port": 20018,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-19-udp",
			"port": 20019,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-20-udp",
			"port": 20020,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-21-udp",
			"port": 20021,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-22-udp",
			"port": 20022,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-23-udp",
			"port": 20023,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-24-udp",
			"port": 20024,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-25-udp",
			"port": 20025,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-26-udp",
			"port": 20026,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-27-udp",
			"port": 20027,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-28-udp",
			"port": 20028,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-29-udp",
			"port": 20029,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-30-udp",
			"port": 20030,
			"protocol": "UDP"
		    },		    		    		    		    		    
		    {
			"name": "uperf-31-udp",
			"port": 20031,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-32-udp",
			"port": 20032,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-33-udp",
			"port": 20033,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-34-udp",
			"port": 20034,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-35-udp",
			"port": 20035,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-36-udp",
			"port": 20036,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-37-udp",
			"port": 20037,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-38-udp",
			"port": 20038,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-39-udp",
			"port": 20039,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-40-udp",
			"port": 20040,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-41-udp",
			"port": 20041,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-42-udp",
			"port": 20042,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-43-udp",
			"port": 20043,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-44-udp",
			"port": 20044,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-45-udp",
			"port": 20045,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-46-udp",
			"port": 20046,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-47-udp",
			"port": 20047,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-48-udp",
			"port": 20048,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-49-udp",
			"port": 20049,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-50-udp",
			"port": 20050,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-51-udp",
			"port": 20051,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-52-udp",
			"port": 20052,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-53-udp",
			"port": 20053,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-54-udp",
			"port": 20054,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-55-udp",
			"port": 20055,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-56-udp",
			"port": 20056,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-57-udp",
			"port": 20057,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-58-udp",
			"port": 20058,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-59-udp",
			"port": 20059,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-60-udp",
			"port": 20060,
			"protocol": "UDP"
		    },		    		    		    		    		    
		    {
			"name": "uperf-61-udp",
			"port": 20061,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-62-udp",
			"port": 20062,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-63-udp",
			"port": 20063,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-64-udp",
			"port": 20064,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-65-udp",
			"port": 20065,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-66-udp",
			"port": 20066,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-67-udp",
			"port": 20067,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-68-udp",
			"port": 20068,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-69-udp",
			"port": 20069,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-70-udp",
			"port": 20070,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-71-udp",
			"port": 20071,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-72-udp",
			"port": 20072,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-73-udp",
			"port": 20073,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-74-udp",
			"port": 20074,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-75-udp",
			"port": 20075,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-76-udp",
			"port": 20076,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-77-udp",
			"port": 20077,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-78-udp",
			"port": 20078,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-79-udp",
			"port": 20079,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-80-udp",
			"port": 20080,
			"protocol": "UDP"
		    },		    		    		    		    		    
		    {
			"name": "uperf-81-udp",
			"port": 20081,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-82-udp",
			"port": 20082,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-83-udp",
			"port": 20083,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-84-udp",
			"port": 20084,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-85-udp",
			"port": 20085,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-86-udp",
			"port": 20086,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-87-udp",
			"port": 20087,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-88-udp",
			"port": 20088,
			"protocol": "UDP"
		    },
		    {
			"name": "uperf-89-udp",
			"port": 20089,
			"protocol": "UDP"
		    }		    		    
                ],
                "selector": {
                    "name": "${ROLE}"
                }
            }
        }
    ],
    "parameters": [
	{
	    "name": "ROLE",
	    "description": "Role for the service, either sender or receiver",
	    "required": true
	}
    ]
}