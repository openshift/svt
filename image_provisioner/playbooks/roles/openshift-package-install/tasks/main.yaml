---
## pre-installing the openvswitch version 2.9.0 so it won't pick up  
## version "1:2.8.0-4.el7fdb" from rhel7-fast-datapath-htb  
- name: install openvswitch-2.9.0 from rhel7-fast-datapath-rpms repo
  yum:
    name: openvswitch-2.9.0
    disablerepo: "*"
    enablerepo: rhel7-fast-datapath
    state: present

- name: install openshift packages
  yum: name={{ item }} state=latest
  with_items:
    - atomic-openshift-sdn-ovs
    - atomic-openshift-tests
    - atomic-openshift-node
    - atomic-openshift-pod
    - atomic-openshift-utils
    - atomic-openshift-clients
    - atomic-openshift-clients-redistributable
    - atomic-openshift-dockerregistry
    - tuned-profiles-atomic
    - tuned-profiles-atomic-openshift-node
    - atomic-openshift-docker-excluder
    - atomic-openshift-excluder

